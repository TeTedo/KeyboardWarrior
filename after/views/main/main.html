<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://kit.fontawesome.com/3264d39625.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <link rel="stylesheet" href="main/style.css" />
  <body>
    <div id="mainPageTop">
      <div id="mainLogo"><a href="/">이건 메인로고</a></div>
      <ul id="mainPageNav">
        <li><a href="/community_hub">COMMUNITY</a></li>
        <li><a href="/minigame">MINI GAME</a></li>
      </ul>
      <ul id="mainPageSign">
        <li><a href="/join">회원가입</a></li>
        <li><a href="/login">로그인</a></li>
      </ul>
      <ul id="mainPageLogo">
        <li>
          <a href="https://github.com/TeTedo/KeyboardWarrior.git"
            ><img
              class="mainPageLogo_githubLogo"
              src="http://rajlab.org/icons/github_white.png"
              alt="github"
          /></a>
        </li>
        <li>
          <a
            href="https://www.notion.so/Keyboard-Warrior-888a144aa79f437e8f726910c42617a8"
            ><img
              class="mainPageLogo_notionLogo"
              src="https://upload.wikimedia.org/wikipedia/commons/4/45/Notion_app_logo.png"
              alt="notion"
          /></a>
        </li>
      </ul>
    </div>

    <!-- <div id="mainPageSearch">
      <div id="mainPageSearch_whole">
        <input type="text" id="mainPageSearch_searchBar" />
        <span>검색</span>
      </div>
    </div> -->
    <!-- 여기까지 탑 공통 부분 -->

    <!-- 사이드바 -->
    <div id="sideBar">
      <div id="sideBar_top">
        <div id="sideBar_top_up">
          <ul>
            <li>팔로워</li>
            <li>123</li>
          </ul>
          <ul>
            <li>팔로잉</li>
            <li>111</li>
          </ul>
        </div>
        <div id="sideBar_top_down">
          <div id="sideBar_top_down_left">
            <div>아이디</div>
            <div>닉네임</div>
          </div>
          <div id="sideBar_top_down_right">
            <div>
              <a href=""><i class="fa-solid fa-bell"></i></a>
              <a href=""><i class="fa-solid fa-comments"></i></a>
              <a href="/logout"
                ><i class="fa-solid fa-right-from-bracket"></i
              ></a>
            </div>
            <a href="/posting">글쓰기</a>
          </div>
        </div>
        <div id="sideBar_top_profileImg"></div>
      </div>
    </div>
    <!-- 사이드바 끝 -->
    <!-- 포스팅 시작 -->
    <div id="mainContent">
      <div id="mainContentWrap">
        <div class="mainPost">
          <div id="mainPost_top">
            <div id="mainPost_top_profileimg">
              <img src="./images/profileimg.jpg" alt="" />
            </div>
            <div id="mainPost_top_userInfo">
              <div id="mainPost_top_userInfo_nickName">닉네임</div>
              <div id="mainPost_top_userInfo_follwer">팔로워숫자</div>
            </div>
            <div id="mainPost_top_follwingBtn">
              <i class="fa-solid fa-user-plus"></i>
              <i class="fa-solid fa-user-check"></i>
              <i class="fa-solid fa-message"></i>
            </div>
          </div>
          <div id="mainPost_middle">
            <div id="mainPost_middle_img">
              <img src="./images/Example.jpeg" alt="" />
            </div>
            <div id="mainPost_middle_text"></div>
          </div>
          <div id="mainPost_bottom"></div>
        </div>

        <!-- 포스팅 1개끝 -->

        <div class="mainPost">
          <div id="mainPost_top"></div>
          <div id="mainPost_middle"></div>
          <div id="mainPost_bottom"></div>
        </div>
        <div class="mainPost">
          <div id="mainPost_top"></div>
          <div id="mainPost_middle"></div>
          <div id="mainPost_bottom"></div>
        </div>
        <div class="mainPost">
          <div id="mainPost_top"></div>
          <div id="mainPost_middle"></div>
          <div id="mainPost_bottom"></div>
        </div>
        <div class="mainPost">
          <div id="mainPost_top"></div>
          <div id="mainPost_middle"></div>
          <div id="mainPost_bottom"></div>
        </div>
        <div class="mainPost">
          <div id="mainPost_top"></div>
          <div id="mainPost_middle"></div>
          <div id="mainPost_bottom"></div>
        </div>
        <div class="mainPost">
          <div id="mainPost_top"></div>
          <div id="mainPost_middle"></div>
          <div id="mainPost_bottom"></div>
        </div>
        <div class="mainPost">
          <div id="mainPost_top"></div>
          <div id="mainPost_middle"></div>
          <div id="mainPost_bottom"></div>
        </div>
        <div class="mainPost">
          <div id="mainPost_top"></div>
          <div id="mainPost_middle"></div>
          <div id="mainPost_bottom"></div>
        </div>
      </div>
    </div>
  </body>

  <script>
    //로그인 되어있을때 사이드바 데이터
    window.onload = function () {
      //데이터 받아오기
      function getData() {
        // 값이 들어왔나 안들어왔나 체크용
        const data = "<%= user_id%>";
        //데이터 있을때
        if (data) {
          // 회원가입 로그인 숨기기
          const mainPageSign = document.querySelector("#mainPageSign");
          mainPageSign.style.display = "none";
          //사이드바 띄우기
          const sideBar = document.querySelector("#sideBar");
          sideBar.style.display = "block";
          //사이드바에 값넣기
          const insertUser = document.querySelectorAll(
            "#sideBar_top_down_left > div"
          );

          insertUser[0].innerHTML = "<%=user_id %>";
          insertUser[1].innerHTML = "<%=nick_name %>";
        }
        //데이터 없을때
        else {
          // 회원가입 로그인 버튼 띄우기
          mainPageSign.style.display = "flex";
          //사이드바 숨기기
          sideBar.style.display = "none";
        }
      }
      getData();
    };
  </script>
  <script src="./main/main.js"></script>
</html>
